server:
  port: 8082

spring:
  application:
    name: api-gateway
  cloud:
    gateway:
      routes:
        - id: backend-docs
          uri: ${BACKEND_URL:http://localhost:8080}
          predicates:
            - Path=/docs/backend
          filters:
            - RewritePath=/docs/backend, /v3/api-docs

        - id: backend
          uri: ${BACKEND_URL:http://localhost:8080}
          predicates:
            - Path=/api/**

        - id: decision-engine-docs
          uri: ${DECISION_ENGINE_URL:http://localhost:8081}
          predicates:
            - Path=/docs/decision-engine
          filters:
            - RewritePath=/docs/decision-engine, /v3/api-docs

        - id: decision-engine
          uri: ${DECISION_ENGINE_URL:http://localhost:8081}
          predicates:
            - Path=/api/v1/decisions/**

springdoc:
  swagger-ui:
    path: /swagger-ui.html
    urls:
      - name: Backend (Scoring)
        url: /docs/backend
      - name: Decision Engine
        url: /docs/decision-engine
  api-docs:
    enabled: true